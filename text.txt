echo "# CONTEXTO PROYECTO STANDAR - ZGROUP LinkControl - ACTUALIZADO JULIO 2025

## INFORMACIÃ“N BÃSICA
- Nombre: ZGROUP - LinkControl
- Repositorio: github.com/JOGLDEVELOPER96/Standar
- TecnologÃ­as: Next.js 15, TypeScript, Tailwind CSS, Framer Motion, bcryptjs
- Alias de importaciÃ³n: \$/* (NO @/*)
- Arquitectura: Modular con mÃ¡ximo 200 lÃ­neas por archivo

## APIS CONFIGURADAS
- API Principal: http://161.132.206.104:9010
- API Control: http://161.132.53.51:9050
- Variables: NEXT_PUBLIC_API_URL, NEXT_PUBLIC_APICONTROL_URL

## ESTRUCTURA DEL PROYECTO
src/
â”œâ”€â”€ app/ (pÃ¡ginas: login, dashboard, control-automatico)
â”œâ”€â”€ components/ (layout, ui, dashboard, control-automatico, login)
â”œâ”€â”€ contexts/ (ThemeContext, SidebarContext, ToastContext)
â”œâ”€â”€ hooks/ (useAuth, useContainers, useControlAutomatico, useControlFormularios, useModals)
â”œâ”€â”€ lib/ (secure-storage)
â”œâ”€â”€ types/ (auth, container, navigation, control)
â””â”€â”€ config/ (navigation)

## FUNCIONALIDADES COMPLETAMENTE IMPLEMENTADAS âœ…
### Sistema de AutenticaciÃ³n
- Login seguro con bcrypt y validaciÃ³n de contraseÃ±as hasheadas
- Almacenamiento encriptado en sessionStorage
- RedirecciÃ³n automÃ¡tica segÃºn estado de autenticaciÃ³n
- Logout completo con limpieza de datos

### Dashboard Funcional
- Vista principal con estadÃ­sticas en tiempo real
- Carrusel de contenedores con navegaciÃ³n fluida
- Imagen interactiva con zoom (scroll) y pan (drag) âœ… CORREGIDO
- Indicadores de estado (power, alarmas, procesos)
- Auto-actualizaciÃ³n cada 30 segundos
- Responsive design completo

### Sistema de Control AutomÃ¡tico
- Formularios completos: Ãšnico, CÃ­clico, PeriÃ³dico âœ… IMPLEMENTADO
- Validaciones robustas con confirmaciones modales
- Estados de carga y manejo de errores
- Tabla de controles activos e histÃ³rico
- Hook personalizado useControlFormularios

### Sistema de Notificaciones y Modales
- Toast system completo (success, error, warning, info)
- Modales de confirmaciÃ³n y guardado
- Z-index hierarchy: Toasts (9999), Modales (100), Tooltips (50)
- Animaciones con Framer Motion

### Sistema de NavegaciÃ³n y Temas
- Sidebar dinÃ¡mico con configuraciÃ³n centralizada
- Temas: dark/light/system con detecciÃ³n automÃ¡tica
- Tooltips inteligentes con portal rendering
- Responsive completo (desktop/mÃ³vil)

## COMPONENTES PRINCIPALES
### Dashboard
- DashboardMain: Vista principal con estadÃ­sticas
- ContainerCarousel: Carrusel de contenedores
- ContainerImage: Imagen interactiva con zoom/pan âœ… CORREGIDO
- ContainerNavigation: NavegaciÃ³n entre contenedores
- DashboardStats: EstadÃ­sticas en tiempo real

### Control AutomÃ¡tico
- ControlAutomaticoMain: Componente principal
- FormularioUnico: Control simple con duraciÃ³n fija âœ… IMPLEMENTADO
- FormularioCiclico: Control con etapas que se repiten âœ… IMPLEMENTADO
- FormularioPeriodico: Control con etapas por tiempo total âœ… IMPLEMENTADO
- ControlTablaActivos: Tabla de controles en proceso
- ControlTablaHistorico: Tabla de procesos completados

### UI Components
- Toast: Sistema de notificaciones âœ… IMPLEMENTADO
- ConfirmModal: Modal de confirmaciÃ³n âœ… IMPLEMENTADO
- SaveModal: Modal de guardado âœ… IMPLEMENTADO
- Tooltip: Tooltips con portal rendering

### Layout
- DashboardLayout: Layout principal con sidebar/header/footer
- Sidebar: NavegaciÃ³n lateral con animaciones
- LoginForm: AutenticaciÃ³n con validaciÃ³n

## HOOKS PERSONALIZADOS
- useAuth: Manejo de autenticaciÃ³n y sesiÃ³n
- useContainers: API de contenedores con auto-refresh
- useControlAutomatico: API de control automÃ¡tico
- useControlFormularios: Formularios de control âœ… IMPLEMENTADO
- useModals: Manejo de modales âœ… IMPLEMENTADO
- useToast: Sistema de notificaciones

## CONTEXTOS IMPLEMENTADOS
- ThemeContext: Manejo de temas (dark/light/system)
- SidebarContext: Estado del sidebar (collapsed/mobile)
- ToastContext: Sistema de notificaciones âœ… IMPLEMENTADO

## TIPOS DE DATOS PRINCIPALES
- UserData: Datos de usuario autenticado
- Container: Datos de contenedores (60+ campos de telemetrÃ­a)
- ControlTemperatura: Datos de control automÃ¡tico
- ControlUnico/Ciclico/Periodico: Formularios de control âœ… IMPLEMENTADO
- ToastData: Datos de notificaciones
- ConfirmData/SaveData: Datos de modales

## PATRONES ESTABLECIDOS
- page.tsx solo importa ComponentMain
- ComponentMain maneja lÃ³gica y estado (mÃ¡x 200 lÃ­neas)
- SubComponents son presentacionales
- Hooks personalizados para lÃ³gica de negocio
- Validaciones con confirmaciones modales
- Estados de loading/error/success consistentes
- MemoizaciÃ³n con useCallback y useMemo

## PROBLEMAS RESUELTOS âœ…
### ContainerImage - Advertencias Next.js
- âŒ Error: Image with fill and height value of 0
- âŒ Error: Invalid position static, should be relative/absolute/fixed
- âœ… SoluciÃ³n: Agregado min-h-[200px] y position relative al contenedor
- âœ… Resultado: Sin advertencias, funcionalidad intacta

### Sistema de Formularios
- âœ… FormularioUnico: ValidaciÃ³n completa, modal de confirmaciÃ³n
- âœ… FormularioCiclico: Etapas dinÃ¡micas, validaciÃ³n de ciclos
- âœ… FormularioPeriodico: Etapas periÃ³dicas, cÃ¡lculo automÃ¡tico de ciclos
- âœ… Validaciones: Campos requeridos, rangos vÃ¡lidos, fechas futuras
- âœ… Estados: Loading, error, success con notificaciones

### Sistema de Notificaciones
- âœ… Toast system: 4 tipos (success, error, warning, info)
- âœ… Auto-close configurable con progress bar
- âœ… Pausa al hover, animaciones suaves
- âœ… Z-index mÃ¡ximo para aparecer encima de todo

## CONFIGURACIÃ“N DESARROLLO
- pnpm dev (desarrollo con Turbopack)
- pnpm build (producciÃ³n)
- pnpm lint (linting)
- pnpm type-check (verificaciÃ³n TypeScript)

## APIS Y ENDPOINTS
### Implementados
- POST /usuarios/extraerPass/{username} - ContraseÃ±a hasheada âœ…
- GET /usuarios/{username} - Datos usuario âœ…
- POST /Contenedor/listar - Lista contenedores âœ…

### Pendientes de IntegraciÃ³n
- POST /Control/listar - Lista controles (UI lista, falta integraciÃ³n)
- POST /Control/crear - Crear control (formularios listos, falta endpoint)
- POST /Control/actualizar - Actualizar control
- POST /Control/eliminar - Eliminar control

## SEGURIDAD IMPLEMENTADA
- ContraseÃ±as hasheadas con bcrypt
- Datos encriptados en sessionStorage con claves aleatorias
- ValidaciÃ³n de entrada en formularios
- SanitizaciÃ³n de datos antes de envÃ­o
- Manejo seguro de tokens y sesiones

## ESTADO ACTUAL DEL PROYECTO
### Completamente Funcional âœ…
- âœ… AutenticaciÃ³n: Sistema completo con bcrypt
- âœ… Dashboard: Monitoreo en tiempo real con imagen interactiva
- âœ… NavegaciÃ³n: Sidebar dinÃ¡mico con temas
- âœ… Notificaciones: Toast system completo
- âœ… Modales: ConfirmaciÃ³n y guardado
- âœ… Formularios Control: Ãšnico, CÃ­clico, PeriÃ³dico con validaciones

### Pendiente de IntegraciÃ³n
- ðŸ”„ APIs de Control AutomÃ¡tico: Formularios listos, falta conectar endpoints
- ðŸ”„ Middleware de autenticaciÃ³n: ProtecciÃ³n automÃ¡tica de rutas
- ðŸ”„ ReorganizaciÃ³n con route groups: (protected) y (auth)

### PrÃ³ximas Implementaciones
- â³ PÃ¡ginas: Manual Control, Cycle Control, Graph, Data
- â³ Sistema de exportaciÃ³n (Excel/PDF)
- â³ Tests unitarios
- â³ PWA configuration

## JERARQUÃA Z-INDEX ESTABLECIDA
- Sidebar: z-40
- Tooltips: z-50  
- Modales: z-[100]
- Toasts: z-[9999] (mÃ¡ximo nivel)

## RESPONSIVE DESIGN
- Mobile first approach
- Breakpoints: sm(640px), md(768px), lg(1024px), xl(1280px)
- Sidebar colapsable con overlay en mÃ³vil
- Grid responsive con adaptaciÃ³n automÃ¡tica

## PERFORMANCE Y OPTIMIZACIÃ“N
- Lazy loading de componentes pesados
- Code splitting automÃ¡tico por rutas
- MemoizaciÃ³n con useCallback/useMemo
- ImÃ¡genes optimizadas con Next.js Image
- Auto-refresh pausable en dashboard

## PRÃ“XIMOS PASOS INMEDIATOS
1. Integrar endpoints de Control AutomÃ¡tico con formularios existentes
2. Implementar middleware de autenticaciÃ³n
3. Crear pÃ¡ginas Manual Control y Cycle Control
4. Reorganizar estructura con route groups
5. Implementar tests bÃ¡sicos para hooks principales

## MÃ‰TRICAS DE DESARROLLO
- Archivos: MÃ¡ximo 200 lÃ­neas cada uno âœ…
- Componentes: Un componente por archivo âœ…
- Imports: Alias \$/* configurado âœ…
- TypeScript: Tipado estricto en todo el proyecto âœ…
- Linting: ESLint con reglas Next.js âœ…

## ÃšLTIMA ACTUALIZACIÃ“N
- Fecha: JULIO 2025
- Estado: Desarrollo activo
- Milestone actual: Sistema de formularios completado
- PrÃ³ximo milestone: IntegraciÃ³n completa con APIs de control
- Desarrollador: Asistente especializado en Next.js/TypeScript

## RESUMEN EJECUTIVO
ZGROUP - LinkControl es una aplicaciÃ³n web moderna para monitoreo y control automÃ¡tico de contenedores refrigerados. Construida con Next.js 15 y TypeScript, implementa autenticaciÃ³n segura, dashboard en tiempo real, y sistema completo de control automÃ¡tico con formularios validados. 

Estado actual: Core funcionalidades implementadas, pendiente integraciÃ³n final con APIs de control automÃ¡tico." > CONTEXTO_PROYECTO_ACTUALIZADO.txt
